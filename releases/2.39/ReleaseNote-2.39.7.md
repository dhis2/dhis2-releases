# Patch 2.39.7 Release Note

- [Features](#features)
- [Bugs fixed](#bugs)

## Features

**[DHIS2-17276](https://dhis2.atlassian.net/browse/DHIS2-17276): Add metadata sharing setting option to data exchanges**  
Components: _[App] Aggregate Data Exchange_

**[DHIS2-17771](https://dhis2.atlassian.net/browse/DHIS2-17771): Org unit context in tables and lists**  
Components: _[App] Capture_

**[DHIS2-15238](https://dhis2.atlassian.net/browse/DHIS2-15238): Show and filter on assigned user in Program stage working list**  
Components: _[App] Capture_

**[DHIS2-17655](https://dhis2.atlassian.net/browse/DHIS2-17655): [Related stages] Two event workspace**  
Components: _[App] Capture_

**[DHIS2-17770](https://dhis2.atlassian.net/browse/DHIS2-17770): Org unit contextualization in self-contained widgets**  
Components: _[App] Capture_

**[DHIS2-17048](https://dhis2.atlassian.net/browse/DHIS2-17048): Skip/unskip events in stages and events Widget**  
Components: _[App] Capture_

**[DHIS2-17878](https://dhis2.atlassian.net/browse/DHIS2-17878): Delete event action in stages and events widget**  
Components: _[App] Capture_

**[DHIS2-17171](https://dhis2.atlassian.net/browse/DHIS2-17171): Preview images in versions prior to 41**  
Components: _[App] Capture_

**[DHIS2-11836](https://dhis2.atlassian.net/browse/DHIS2-11836): Respect "Block entry form" setting**  
Components: _[App] Capture_

**[DHIS2-15462](https://dhis2.atlassian.net/browse/DHIS2-15462): Use dhis2 UI calendarInput component in forms**  
Components: _[App] Capture_

**[DHIS2-15463](https://dhis2.atlassian.net/browse/DHIS2-15463): Use dhis2 UI calendarInput component in working lists**  
Components: _[App] Capture_

**[DHIS2-17575](https://dhis2.atlassian.net/browse/DHIS2-17575): Disable new event buttons when no data write access to programstage**  
Components: _[App] Capture_

**[DHIS2-17101](https://dhis2.atlassian.net/browse/DHIS2-17101): Related stages: Consider "Prevent adding events to stage‚Äù program rule**  
Components: _[App] Capture_

**[DHIS2-16125](https://dhis2.atlassian.net/browse/DHIS2-16125): Stages and events Widget: Hide program stage under certain circumstances**  
Components: _[App] Capture_

## Bugs

**[DHIS2-16986](https://dhis2.atlassian.net/browse/DHIS2-16986): Continuous analytics job never runs a full table update**  
Components: _[API] Analytics_

**[DHIS2-15291](https://dhis2.atlassian.net/browse/DHIS2-15291): Event Report Enrollments not returning correct data - BACKPORT**  
Components: _[API] Analytics_

**[DHIS2-12003](https://dhis2.atlassian.net/browse/DHIS2-12003): GET maps/data.png fails**  
Components: _[API] Analytics_

**[DHIS2-17564](https://dhis2.atlassian.net/browse/DHIS2-17564): defaults parameter not working**  
Components: _[API] Metadata model_

**[DHIS2-15419](https://dhis2.atlassian.net/browse/DHIS2-15419): Metrics API does not work with Hikari database pool**  
Components: _[API] Other_

**[DHIS2-17834](https://dhis2.atlassian.net/browse/DHIS2-17834): Incorrect paginated result in ProgramNotificationTemplate controller**  
Components: _[API] Tracker_

**[DHIS2-16122](https://dhis2.atlassian.net/browse/DHIS2-16122): The completedAt field remains populated when updating an event from complete to active, returning incorrect data when "Only include completed events" checkbox is selected**  
Components: _[API] Tracker_

**[DHIS2-17515](https://dhis2.atlassian.net/browse/DHIS2-17515): Referential integrity between ProgramRuleAction and ProgramNotificationTemplate**  
Components: _[API] Tracker_

**[DHIS2-17880](https://dhis2.atlassian.net/browse/DHIS2-17880): User is allowed to transfer TE to org unit not assigned to program**  
Components: _[API] Tracker_

**[DHIS2-17530](https://dhis2.atlassian.net/browse/DHIS2-17530): FILE DE or TEA is not a link**  
Components: _[App] Capture_

**[DHIS2-18116](https://dhis2.atlassian.net/browse/DHIS2-18116): Clicking save after entering a non-integer in an age field freezes the app**  
Components: _[App] Capture_

**[DHIS2-17971](https://dhis2.atlassian.net/browse/DHIS2-17971): ProgramRules for specific ProgramStage not being triggered**  
Components: _[App] Capture_

**[DHIS2-17352](https://dhis2.atlassian.net/browse/DHIS2-17352): Choosing a different program in the event workspace does nothing**  
Components: _[App] Capture_

**[DHIS2-17516](https://dhis2.atlassian.net/browse/DHIS2-17516): Bad Request when sorting in the working lists**  
Components: _[App] Capture_

**[DHIS2-17758](https://dhis2.atlassian.net/browse/DHIS2-17758): [DATA ADMINISTRATION App] maintenance run previous selected items**  
Components: _[App] Data administration_

**[DHIS2-17955](https://dhis2.atlassian.net/browse/DHIS2-17955): Improve Data Visualizer with fixed period "Weekly (Start Sunday)" labels**  
Components: _[App] Data visualizer_

**[DHIS2-17824](https://dhis2.atlassian.net/browse/DHIS2-17824): Challenge importing organisation unit group membership from CSV file**  
Components: _[App] Import-export_

**[DHIS2-18118](https://dhis2.atlassian.net/browse/DHIS2-18118): CSV import for OUG membership not working**  
Components: _[App] Import-export_

**[DHIS2-15976](https://dhis2.atlassian.net/browse/DHIS2-15976): Data element created date overwritten to date of update**  
Components: _[App] Import-export_

**[DHIS2-17772](https://dhis2.atlassian.net/browse/DHIS2-17772): When user the value type "org unit" in an attribute, line listing shows the uid of the org unit and not the name. (for 40 and 39)**  
Components: _[App] Line Listing_

**[DHIS2-6011](https://dhis2.atlassian.net/browse/DHIS2-6011): Irrelevant error message while deleting legends**  
Components: _[App] Maintenance_

